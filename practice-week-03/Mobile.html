<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Xây dựng lớp điện thoại di động</title>
</head>
<body>
<script>
    function Mobile() {
        let name;
        this.battery = 0;//int lượng pin hiện tại
        this.status = "on";// boolean trang thái điện thoại on hay of
        this.messageComposing="";//String tin nhắn đang soạn thảo
        this.draft= new Array();//Mảng lưu trữ các tin nhắn đang soạn thảo
        this.inbox= new Array(); //Mảng lưu trữ các tin nhắn đến
        let sent= new Array();//Mảng lưu trữ các tin nhắn đã gửi

        this.isMobileOn = function () {// kiểm tra trạng thái điện thoại on hay off
            if(this.status == "on"){
               return true;
            }
            else
                return false;
        };
        this.setOff = function () {// chức năng tắt điện thoại
            this.status = "on";
        };
        this.setOn = function () {// Chức năng mở điện thoại
            this.status = "off";
        };
        this.chargeBattery = function () {//chức năng sạc pin
            for(let i = 0; i < 100; i++){
                this.battery ++;
            }
        };

        this.writeMessage = function (message) {// soạn tin nhắn trả về một chuỗi string
            this.draft.push(message); //lưu trữ tin nhắn vào mảng draf;
            return this.messageComposing;//trả về tin nhắn đang soạn
        };

        this.receiveMessage = function (message) {//chức năng nhận tin nhắn từ điện thoại khác
            this.inbox.push(message); //nhận tin nhắn từ điện thoại khác và lưu trữ vào hộp thư dến

        };
        this.sendMessage = function(message,model){// chức năng gửi tin nhắn đến đt khác
            this.sent.push(message); //lưu tin nhắn đã gửi vào mảng sent[]
            model.inbox.push(message); //lưu tin nhắn vào hộp thư đến của model được gửi
            //tin nhắn được gửi đồng thời sẽ được lưu vào hộp thư đến của máy được gửi
        };
        this.viewMessageInbox = function () {// đọc tin nhắn trong hộp thư đến
           alert("Tin nhắn trong hộp thư đến là: " + this.inbox[0]);
        };
        this.viewMessageSent = function () {

        };
        //sau mỗi lần sử dụng một chức năng pin sẽ giảm một đơn vị
        //Các chức năng không thể hoạt động nếu điện thoại chưa bật

    }
    //tạo mới 2 chiếc điện thoại
    let iphone = new Mobile();
    let nokia = new Mobile();
    //Soạn tin nhắn tại đt nokia
    // let sendMessage = nokia.writeMessage("NOKIA TO IPHONE");

    let sendMessage = "NOKIA TO IPHONE";
    //Gửi tin nhắn tới iphone;
    nokia.sendMessage(sendMessage,iphone);
    //Hiển thị tin nhắn nhận được tại iphone;
    iphone.viewMessageInbox();






</script>

</body>
</html>